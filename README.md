# edumtu
Отчётная подсистема финансово-экономической учетной системы СПбГМТУ

Установка.

1. Загрузить Node.js с официального сайта
https://nodejs.org 
и установить

2. Загрузить MongoDB с официального сайта
https://www.mongodb.com/download-center#community
и установить в папку, например в D:\mongo\ , желательно чтобы в пути к папке не было русских букв и пробелов.

3. По умолчанию MongoDB полагает что база данных находится в папке /data/db того же тома. Создаём
 mkdir D:\data\db

4. Запускаем MongoDB сервер
 D:\mongo\mongod.exe
Прервать работу MongoDB сервера можно по <Ctrl>+C

5. В окне (терминале) Git перейти в папку куда надо будет поместить папку сайта и забрать из хранилища исходники
 git clone https://github.com/sshspb/edumtu.git
 
6. В терминале, Windows или Git, перейти в созданную на предыдущем шаге папку edumtu и дать команду npm install которая скачает из интернета необходимые для сайта модули Node.JS 
 cd edumtu
 npm install
 
7. Для хранения локальных уставок создай из шаблона config_local.js.origin локальный (местный) файл config_local.js
  cp config_local.js.origin config_local.js
И пропиши в config_local.js необходимые уставки, в частности, укажи путь к папке с данными, например
  "tbPath": "D:/data/Inet_arch/Inet_2017"

8. Запускается веб-сервер командой
 npm start
Прервать работу веб-сервера можно по <Ctrl>+C
 
9. В адресной строке веб-броузера набрать адрес
 localhost:3000
На появившейся странице сайта в меню есть пункт "Импорт данных" - жмём - данные загрузятся из указанной в файле config_local.js папки "tbPath".

10. Обновление текста программы делаем по команде git pull origin master , и, возможно, потребуется npm install , если вдруг используется новый npm-модуль. Таким образом, чтобы обновить версию сайта делаем

  cd edu2site
  
  git pull origin master
  
  npm install
